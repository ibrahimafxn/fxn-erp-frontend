.depot-detail { padding: 1.25rem; display: grid; gap: 1rem; }

.page-header {
  display:flex; justify-content:space-between; gap:1rem; align-items:flex-start;
  h1 { margin:0; font-size:1.35rem; }
  .subtitle { margin:.25rem 0 0; opacity:.75; font-size:.9rem; }
  .header-actions { display:flex; gap:.5rem; flex-wrap:wrap; }
}

.state {
  padding: .9rem 1rem; border-radius: .9rem;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  &.error { background: rgba(255,0,60,.14); }
}

.grid {
  display:grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, .8fr);
  gap: 1rem;

  @media (max-width: 900px) { grid-template-columns: 1fr; }
}
/* Optionnel : sécurise au cas où une card serait encore stretchée */
.grid > .card {
  align-self: start;
}

.card {
  padding: 1rem;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  display: grid;
  gap: .9rem;
  min-width: 0;
  overflow: hidden;

  h2 { margin:0; font-size: 1.05rem; }
}

.card-subtitle {
  color: var(--fxn-text-muted);
  margin-top: -.5rem;
  margin-bottom: .75rem;
}

.transfer-form {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: .9rem;
}

.transfer-form .field {
  display: grid;
  gap: .4rem;
  min-width: 0;
}

.transfer-form .field label {
  font-size: .85rem;
  color: var(--fxn-text-muted);
}

.transfer-form input,
.transfer-form select,
.transfer-form textarea {
  border-radius: var(--fxn-radius-md);
  padding: .6rem .75rem;
  border: 1px solid var(--fxn-border-strong);
  background: rgba(8, 14, 22, 0.6);
  color: inherit;
  outline: none;
  width: 100%;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.transfer-form textarea {
  white-space: normal;
}

.transfer-form .span-2 {
  grid-column: span 2;
}

.transfer-form .actions {
  grid-column: span 2;
  display: flex;
  justify-content: flex-end;
  gap: .5rem;
  flex-wrap: wrap;
}

.state.success {
  background: rgba(46, 207, 154, .12);
}

@media (max-width: 900px) {
  .transfer-form {
    grid-template-columns: 1fr;
  }

  .transfer-form .span-2,
  .transfer-form .actions {
    grid-column: span 1;
  }
}

.identity {
  display:flex; gap:.9rem; align-items:center;

  .avatar {
    width: 56px; height: 56px;
    border-radius: 16px;
    display:grid; place-items:center;
    font-weight: 900;
    background: rgba(255,255,255,.08);
    border: 1px solid rgba(255,255,255,.12);
  }

  .title { font-weight: 900; font-size: 1.1rem; }
  .sub { opacity:.75; }
}

.info {
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: .75rem;

  @media (max-width: 900px) { grid-template-columns: 1fr; }

  .item {
    display:grid; gap:.2rem;
    label { font-size: .85rem; opacity: .7; }
    span { font-weight: 700; word-break: break-word; }
  }
}

.kpi-grid {
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: .75rem;

  .kpi {
    padding: .75rem;
    border-radius: .9rem;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(0,0,0,.12);
    label { font-size: .85rem; opacity:.75; display:block; }
    span { font-size: 1.1rem; font-weight: 900; }
  }
}

.note { opacity: .8; font-size: .85rem; }

.manager small { opacity: .75; font-weight: 600; }

.mini-list { display: grid; gap: .6rem; }
.mini-row {
  display:flex; justify-content:space-between; gap:1rem; align-items:center;
  padding:.75rem; border-radius:.9rem;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.10);
  min-width: 0;

  .name { font-weight: 900; }
  .sub { opacity: .75; font-size: .85rem; margin-top: .1rem; }
}

.mini-left,
.mini-right {
  min-width: 0;
}

.mini-left .mini-name,
.mini-left .mini-sub {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.manager-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .5rem;
}

.manager-panel {
  margin-top: .5rem;
  padding: .75rem;
  border-radius: .9rem;
  background: rgba(255, 255, 255, .05);
  border: 1px solid rgba(255, 255, 255, .10);
  display: grid;
  gap: .5rem;
}

.sub-label {
  font-size: .85rem;
  opacity: .75;
}

.select {
  width: 100%;
  padding: .55rem .7rem;
  border-radius: .75rem;
  border: 1px solid rgba(255, 255, 255, .12);
  background: rgba(0, 0, 0, .18);
  color: inherit;
}

.panel-actions {
  display: flex;
  gap: .5rem;
  justify-content: flex-end;
  flex-wrap: wrap;
}

.btn-xs {
  padding: .4rem .65rem;
  border-radius: .7rem;
  font-size: .85rem;
}

/* Alignement cohérent des actions "Voir tout" */
.card-actions.left {
  justify-content: flex-start;
}

.mini-row.clickable {
  cursor: pointer;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;

  &:hover {
    border-color: rgba(255,255,255,.18);
    background: rgba(255,255,255,.06);
  }

  &:active {
    transform: translateY(1px);
  }
}

/* Bonus UX : zone bouton clairement séparée */
.mini-right {
  display: flex;
  gap: .5rem;
  align-items: center;
}
